'use strict';

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

var _server = require('../server');

var _server2 = _interopRequireDefault(_server);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var movies = require('./fixtures/movies');

const requestDefaults = {
  method: 'GET',
  url: '/v1/api/movies'
};

(0, _ava2.default)('endpoint test | GET /movies -> 200 OK', t => {
  const request = Object.assign({}, requestDefaults, {});

  return _server2.default.inject(request).then(response => {
    t.is(response.statusCode, 200, 'status code is 200');
  });
});

(0, _ava2.default)('endpoint test | GET /movies -> 200 Response returns Movies OK', t => {
  const request = Object.assign({}, requestDefaults, {});

  return _server2.default.inject(request).then(response => {
    t.is(response.result, movies, 'response equals movies fixture');
  });
});
//# sourceMappingURL=../node_modules/.cache/ava/3b229987b8d8af45ae82da3c9ea97f7f.js.map